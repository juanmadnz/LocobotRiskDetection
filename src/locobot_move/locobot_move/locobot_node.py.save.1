#!/usr/bin/env python

import rclpy
from rclpy.node import Node
from geometry_msgs.msg import Twist

class LocobotSquareMove(Node):
	def __init__(self):
	    	super().__init__('locobot_square_move')
    		self.cmd_vel_pub = self.create_publisher(Twist, '/cmd_vel', 10)
    		self.move_cmd = Twist()
    		self.move_cmd.linear.x = 0.1  # velocidad lineal
    	self.move_cmd.angular.z = 0.1  # velocidad angular
    	self.timer = self.create_timer(1, self.timer_callback)
    	self.is_moving = False

	def timer_callback(self):
    	if not self.is_moving:
        	self.cmd_vel_pub.publish(self.move_cmd)
        	self.is_moving = True

def main(args=None):
	rclpy.init(args=args)
	locobot_square_move = LocobotSquareMove()
	rclpy.spin(locobot_square_move)
	locobot_square_move.destroy_node()
	rclpy.shutdown()

if __name__ == '__main__':
	main()
